# SaTT游戏系统 - 主要对象与功能介绍

## 系统主要对象列表

### UserService
**用户 (User)**：游戏中的玩家，包含用户ID、用户名、密码哈希、邮箱、当前段位、原石数量、账户状态、注册时间等信息
- class 基本信息: ID，密码哈希，权限等级（是/否管理员），注册时间
- class 补充信息（可修改）：邮箱，手机号码，用户名
- class 状态信息：对战状态/封禁天数，在线状态
- class 资产状态：剩余资源（原石）。已抽卡次数
- class 对战信息：对战记录（对手，胜负），段位，排名
- class 社交信息：好友列表，黑名单（举报过的玩家）
- class 卡牌信息：拥有的卡牌，等级。
- class 消息系统：好友消息，大世界消息，系统消息

### BattleService
- **对战房间 (BattleRoom)**：玩家对战的游戏房间，包含房间ID、玩家1ID、玩家2ID、房间状态、当前回合玩家、获胜者ID、创建时间，房主等信息
	- 房间状态 (BattleState)：包含房间ID、玩家1的卡组、玩家2的卡组、（玩家12的段位）、玩家状态（是否离线）、获胜者等信息
	- 游戏行为 (GameAction)：对战中玩家的操作行为，包含操作者ID、使用卡牌编号、目标ID、行为类型等信息
    - 战场状态：当前回合数，回合阶段，回合剩余时间，在行动玩家，玩家血量，玩家能量，可用行动，未用卡牌等

### CardService
- **卡池 (CardPool)**：
	- 卡牌模板 (Card)：游戏中的卡牌基础数据，包含卡牌ID、卡牌名称、稀有度等级、技能描述、获得时间等信息 
	- 抽卡结果 (DrawResult)：抽卡系统的返回结果，包含获得的卡牌ID、卡牌稀有度、是否为新获得卡牌等信息

### AssetService
- **资金管理 (AssetsManagement)**：
- 交易系统 (TransactionSystem）：用户资金变动，包括充值，抽卡消耗，对战获胜等
- 交易记录 (TransactionLog)：用户的资产变动记录，包含交易ID、用户ID、交易类型、变动数量、交易原因、时间戳等信息

### AdminService
- **管理员系统 (AdministratorSymbol)**：
- 管理员用户 (AdminAccount)：查看各类系统数据，处理举报信息，处罚用户等
- 系统统计 (SystemStats)：系统运营数据统计，包含活跃用户数、总对战次数、抽卡次数、统计时间等信息
- 用户行为日志 (UserAction)：用户在系统中的操作记录，包含用户ID、操作类型、操作详情、时间戳等信息
	- 举报机制 (CheatingReporting)：举报原因（详细原因），举报用户，被举报用户，是否受理，时间戳等

## 系统功能介绍

本系统是一款基于回合制的卡牌对战游戏，为玩家提供完整的卡牌收集、养成和对战体验。系统的核心功能包括用户注册系统、卡牌收集系统、实时对战匹配系统、用户资产管理系统和管理员系统等五大模块。玩家可以通过注册账号进入游戏，使用原石进行卡牌抽取来丰富自己的卡牌收藏。在拥有足够的卡牌后，玩家可以组建自己的卡组与其他玩家进行实时对战，通过策略性的卡牌组合和回合制操作来击败对手。对战胜利可以获得原石奖励和段位提升，失败则会扣除相应积分。系统还提供了完善的资产管理功能，记录所有的资源变动，并配备管理员后台用于监控系统运行状态和处理用户相关事务，确保游戏环境的公平性和稳定性。

## 对战规则
核心玩法：饼防撒游戏。初始每人6血，0能量。每回合双方玩家均行动一次，互相不知晓对方行动，可以出饼防撒三种操作中一种。回合结束后双方血量与能量均显示。·
    - 饼：+1能量。若对方当回合出撒，回合结束时血量-1，否则无效
    - 防：无效果（免疫撒）
    - 撒：消耗一点能量。若对方当回合出饼，回合结束时对方血量-1。否则无效
当某一回合后，一方玩家血量归0，则另一方获胜

卡牌加成：每人可以携带三张卡牌。卡牌有三类：
- 穿透：你的撒增加百分之5，15，33概率穿透对手的防御
- 发育：你的饼增加百分之5，15，33概率带来2点能量
- 反弹：你的防增加百分之5，15，33概率反弹对面的撒（穿透优先于反弹判定。）

上面的3个数值分别为普通，稀有，传说等级的卡牌效果，不同等级的卡牌有不同的概率在卡池中抽出。






